---
---

<section class="extensions-section">
	<div>
		<h2>Extensions</h2>
		<p>
			Extend VistaView's functionality with powerful extensions. From video support to interactive controls, extensions let you customize your image galleries to fit your specific needs.
		</p>

		<div class="extensions-grid">
			<div class="extension-card">
				<h3>Video Support</h3>
				<p>Embed videos from popular platforms directly in your galleries. Supports <strong>YouTube</strong>, <strong>Vimeo</strong>, <strong>Dailymotion</strong>, <strong>Wistia</strong>, <strong>Vidyard</strong>, and <strong>Streamable</strong>.</p>
			</div>

			<div class="extension-card">
				<h3>Interactive Controls & Advanced Features</h3>
				<p>Add custom controls and user interactions to your galleries. Includes <strong>Download</strong> for saving images, <strong>Logger</strong> for debug information, and <strong>Image Story</strong> for extended information about your image.</p>
			</div>

			<div class="extension-card">
				<h3>Maps Integration</h3>
				<p>Display interactive maps in your image galleries. Integrates with <strong>Google Maps</strong>, <strong>Mapbox</strong>, and <strong>OpenStreetMap</strong>.</p>
			</div>
		</div>

		</div>
	</div>
	<div>
		<div class="extensions-demo">
			<div class="extensions-gallery">
				<a href="https://picsum.photos/seed/demo1/800/600" target="_blank" rel="noopener" class="gallery-link">
					<img src="https://picsum.photos/seed/demo1/400/300" alt="Demo image with extensions" />
				</a>
				<a href="https://picsum.photos/seed/demo2/800/600" target="_blank" rel="noopener" class="gallery-link">
					<img src="https://picsum.photos/seed/demo2/400/300" alt="Another demo image" />
				</a>
			</div>
		</div>
	</div>
</section>


<script src="https://unpkg.com/vistaview/dist/extensions/logger.umd.js"></script>
<script src="https://unpkg.com/vistaview/dist/extensions/download.umd.js"></script>
<script src="https://unpkg.com/vistaview/dist/extensions/image-story.umd.js"></script>
<script src="https://unpkg.com/vistaview/dist/extensions/youtube-video.umd.js"></script>
<script src="https://unpkg.com/vistaview/dist/extensions/dailymotion-video.umd.js"></script>
<script src="https://unpkg.com/vistaview/dist/extensions/vimeo-video.umd.js"></script>
<script src="https://unpkg.com/vistaview/dist/extensions/wistia-video.umd.js"></script>
<script src="https://unpkg.com/vistaview/dist/extensions/vidyard-video.umd.js"></script>
<script src="https://unpkg.com/vistaview/dist/extensions/streamable-video.umd.js"></script>
<script src="https://unpkg.com/vistaview/dist/extensions/google-maps.umd.js"></script>
<script src="https://unpkg.com/vistaview/dist/extensions/mapbox.umd.js"></script>
<script src="https://unpkg.com/vistaview/dist/extensions/openstreetmap.umd.js"></script>
<script is:inline>
	window.addEventListener('DOMContentLoaded', async function() {

    console.log('Loading video thumbnails for extensions demo...');

    const videoUrl = 'https://www.youtube.com/watch?v=GwJrZBe8JX4';
    const thumbnailUrl = window.VistaView.getYouTubeThumbnail(videoUrl, 'hq');

    const dailimotionVideoUrl = 'https://www.dailymotion.com/video/x7xvssw';
    const dailymotionThumbnailUrl = window.VistaView.getDailymotionThumbnail(dailimotionVideoUrl);

    const vimeoVideoUrl = 'https://vimeo.com/30673387';
    const vimeoThumbnailUrl = window.VistaView.getVimeoThumbnail(vimeoVideoUrl);

    const wistiaVideoUrl = 'https://jujiyangasli.wistia.com/medias/5tel0p2wua';
    const wistiaThumbnailUrl = await window.VistaView.getWistiaThumbnail(wistiaVideoUrl);

    const vidyardVideoUrl = 'https://share.vidyard.com/watch/GRJFiCEc9uSqJELta26in3';
    const vidyardThumbnailUrl = window.VistaView.getVidyardThumbnail(vidyardVideoUrl);

    const streamableVideoUrl = 'https://streamable.com/0skbol';
    const streamableThumbnailUrl = window.VistaView.getStreamableThumbnail(streamableVideoUrl);

    // Maps configuration - loaded from environment variables
    // Set VITE_GOOGLE_MAPS_API_KEY and VITE_MAPBOX_ACCESS_TOKEN in .env file
    // const googleMapsApiKey = import.meta.env.VITE_GOOGLE_MAPS_API_KEY;
    // const mapboxAccessToken = import.meta.env.VITE_MAPBOX_ACCESS_TOKEN;

    // Add video thumbnails to gallery
    const gallery = document.querySelector('.extensions-gallery');
    function addVideoToGallery(url, thumbnail, alt, className) {
      console.log('Adding video to gallery:', url);
        const link = document.createElement('a');
        link.href = url;
        link.target = '_blank';
        link.rel = 'noopener';
        link.classList.add(className);
        const img = document.createElement('img');
        img.src = thumbnail;
        img.alt = alt;
        link.appendChild(img);
        gallery.appendChild(link);
    }

    addVideoToGallery(videoUrl, thumbnailUrl, 'YouTube video', 'gallery-link');
    addVideoToGallery(dailimotionVideoUrl, dailymotionThumbnailUrl, 'Dailymotion video', 'gallery-link');
    addVideoToGallery(vimeoVideoUrl, vimeoThumbnailUrl, 'Vimeo video', 'gallery-link');
    addVideoToGallery(wistiaVideoUrl, wistiaThumbnailUrl, 'Wistia video', 'gallery-link');
    addVideoToGallery(vidyardVideoUrl, vidyardThumbnailUrl, 'Vidyard video', 'gallery-link');
    addVideoToGallery(streamableVideoUrl, streamableThumbnailUrl, 'Streamable video', 'gallery-link');

		if (window.VistaView && window.VistaView.vistaView) {
			window.VistaView.vistaView({ 
				elements: '.extensions-gallery a',
				extensions: [
					window.VistaView.logger(),
					window.VistaView.download(),
					// window.VistaView.imageStory(),
					window.VistaView.youtubeVideo(),
					window.VistaView.dailymotionVideo(),
					window.VistaView.vimeoVideo(),
					window.VistaView.wistiaVideo(),
					window.VistaView.vidyardVideo(),
					window.VistaView.streamableVideo(),
					// window.VistaView.googleMaps(),
					// window.VistaView.mapbox(),
					// window.VistaView.openStreetMap()
				]
			});
		}
	});
</script>

<style is:global>
  a.gallery-link {
		display: block;
		border-radius: 0.25rem;
		overflow: hidden;
		transition: transform 0.2s ease;
	}

  a.gallery-link:hover {
		transform: scale(1.05);
	}
</style>

<style>
	.extensions-section {
		padding: 2rem 0;
		text-align: start;

		@media screen and (min-width: 50rem) {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 2rem;
		}
	}

	.extensions-section h2 {
		font-size: var(--sl-text-2xl);
		margin-bottom: 1rem;
	}

	.extensions-section p {
		max-width: 60ch;
		margin: 0 0 2rem 0;
		color: var(--sl-color-gray-2);
	}

	.extensions-grid {
		margin-bottom: 3rem;
	}

	.extension-card {
		margin-bottom: 2rem;
	}

	.extension-card h3 {
		font-size: var(--sl-text-lg);
		margin: 0 0 0.5rem 0;
		color: var(--sl-color-text);
	}

	.extension-card strong {
		color: #22c55e;
		font-weight: 600;
	}

	.extension-card p {
		margin: 0 0 1rem 0;
		color: var(--sl-color-gray-3);
		font-size: var(--sl-text-sm);
	}

	.extensions-demo {
		padding: 0;
	}

	.extensions-gallery {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
		gap: 1rem;
	}

	.extensions-gallery img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		display: block;
	}
</style>