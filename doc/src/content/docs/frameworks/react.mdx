---
title: React
description: Using VistaView with React
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

VistaView provides React hooks and components for seamless integration.

## Installation

```bash
npm install vistaview
```

## API

### `useVistaView` Hook

For imperative control without rendering a container:

```tsx
import { useVistaView } from 'vistaview/react';
import type { VistaInterface } from 'vistaview';
```

### `<VistaView>` Component

A declarative component that manages gallery markup:

```tsx
import { VistaView } from 'vistaview/react';
import type { VistaInterface } from 'vistaview';
```

## Basic Usage

### Using the Hook

```tsx
import { useVistaView } from 'vistaview/react';
import 'vistaview/style.css';

function Gallery() {
  const { open, close, next, prev } = useVistaView({
    elements: '#gallery a',
  });

  return (
    <div id="gallery">
      <a href="/images/photo1-full.jpg">
        <img src="/images/photo1-thumb.jpg" alt="Photo 1" />
      </a>
      <a href="/images/photo2-full.jpg">
        <img src="/images/photo2-thumb.jpg" alt="Photo 2" />
      </a>
      <button onClick={() => open(0)}>Open Gallery</button>
    </div>
  );
}
```

### Using the Component

```tsx
import { VistaView } from 'vistaview/react';
import 'vistaview/style.css';

function Gallery() {
  return (
    <VistaView selector="a">
      <a href="/images/photo1-full.jpg">
        <img src="/images/photo1-thumb.jpg" alt="Photo 1" />
      </a>
      <a href="/images/photo2-full.jpg">
        <img src="/images/photo2-thumb.jpg" alt="Photo 2" />
      </a>
    </VistaView>
  );
}
```

## Advanced Examples

### With Ref for Imperative Control

```tsx
import { useRef } from 'react';
import { VistaView } from 'vistaview/react';
import type { VistaInterface } from 'vistaview';
import 'vistaview/style.css';

function Gallery() {
  const vistaRef = useRef<VistaInterface>(null);

  return (
    <>
      <VistaView ref={vistaRef} selector="a">
        <a href="/images/photo1-full.jpg">
          <img src="/images/photo1-thumb.jpg" alt="Photo 1" />
        </a>
        <a href="/images/photo2-full.jpg">
          <img src="/images/photo2-thumb.jpg" alt="Photo 2" />
        </a>
      </VistaView>
      <button onClick={() => vistaRef.current?.open(0)}>
        Open Gallery
      </button>
      <button onClick={() => vistaRef.current?.next()}>
        Next Image
      </button>
    </>
  );
}
```

### With Extensions

```tsx
import { VistaView } from 'vistaview/react';
import { download } from 'vistaview/extensions/download';
import { youtubeVideo } from 'vistaview/extensions/youtube-video';
import 'vistaview/style.css';

function Gallery() {
  return (
    <VistaView 
      selector="a"
      extensions={[download(), youtubeVideo()]}
      controls={{
        topLeft: ['indexDisplay'],
        topRight: ['download', 'zoomIn', 'zoomOut', 'close'],
        bottomLeft: ['description'],
      }}
    >
      <a href="/images/photo1-full.jpg">
        <img src="/images/photo1-thumb.jpg" alt="Photo 1" />
      </a>
      <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" data-vistaview-alt="Rick Astley">
        <img src="/images/video-thumb.jpg" alt="Video" />
      </a>
    </VistaView>
  );
}
```

### Dynamic Content

```tsx
import { useState } from 'react';
import { VistaView } from 'vistaview/react';
import 'vistaview/style.css';

interface Photo {
  id: number;
  full: string;
  thumb: string;
  alt: string;
}

function DynamicGallery() {
  const [photos, setPhotos] = useState<Photo[]>([
    { id: 1, full: '/photo1-full.jpg', thumb: '/photo1-thumb.jpg', alt: 'Photo 1' },
    { id: 2, full: '/photo2-full.jpg', thumb: '/photo2-thumb.jpg', alt: 'Photo 2' },
  ]);

  const addPhoto = () => {
    const newId = photos.length + 1;
    setPhotos([
      ...photos,
      {
        id: newId,
        full: `/photo${newId}-full.jpg`,
        thumb: `/photo${newId}-thumb.jpg`,
        alt: `Photo ${newId}`,
      },
    ]);
  };

  return (
    <>
      <VistaView selector="a">
        {photos.map((photo) => (
          <a key={photo.id} href={photo.full}>
            <img src={photo.thumb} alt={photo.alt} />
          </a>
        ))}
      </VistaView>
      <button onClick={addPhoto}>Add Photo</button>
    </>
  );
}
```

### With Event Handlers

```tsx
import { VistaView } from 'vistaview/react';
import 'vistaview/style.css';

function Gallery() {
  return (
    <VistaView 
      selector="a"
      onOpen={(vistaView) => {
        console.log('Gallery opened');
      }}
      onClose={(vistaView) => {
        console.log('Gallery closed');
      }}
      onImageView={(data, vistaView) => {
        console.log(`Viewing image ${data.index.to + 1}`);
      }}
    >
      <a href="/images/photo1-full.jpg">
        <img src="/images/photo1-thumb.jpg" alt="Photo 1" />
      </a>
      <a href="/images/photo2-full.jpg">
        <img src="/images/photo2-thumb.jpg" alt="Photo 2" />
      </a>
    </VistaView>
  );
}
```

## TypeScript Support

VistaView is written in TypeScript and provides full type definitions:

```tsx
import type { 
  VistaInterface, 
  VistaData,
  VistaParamsNeo,
  VistaOpt 
} from 'vistaview';
import { VistaView } from 'vistaview/react';

interface GalleryProps extends VistaOpt {
  photos: Array<{ full: string; thumb: string; alt: string }>;
}

function Gallery({ photos, ...vistaOptions }: GalleryProps) {
  return (
    <VistaView selector="a" {...vistaOptions}>
      {photos.map((photo, i) => (
        <a key={i} href={photo.full}>
          <img src={photo.thumb} alt={photo.alt} />
        </a>
      ))}
    </VistaView>
  );
}
```

## Next Steps

- Learn about [configuration options](/concepts/configuration)
- Explore [extensions](/concepts/extensions)
- Customize with [themes and styling](/concepts/styling)
