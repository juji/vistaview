---
title: Keyboard & Touch Interactions
description: Learn about VistaView's keyboard navigation and touch gestures
---

VistaView provides intuitive keyboard and touch controls for all users.

## Keyboard Navigation

### Navigation Keys

| Key | Action |
|-----|--------|
| `←` Left Arrow | Previous image |
| `→` Right Arrow | Next image |
| `↑` Up Arrow | Zoom in |
| `↓` Down Arrow | Zoom out |
| `Esc` | Close lightbox |
| `Space` | Toggle zoom |

### Usage Example

```js
import { vistaView } from 'vistaview';

vistaView({
  elements: '#gallery a',
  keyboardListeners: true, // Default: true
});
```

### Disabling Keyboard Controls

```js
vistaView({
  elements: '#gallery a',
  keyboardListeners: false, // Disable all keyboard controls
});
```

## Touch Gestures

### Swipe Gestures

| Gesture | Action |
|---------|--------|
| Swipe left | Next image |
| Swipe right | Previous image |
| Swipe up | Close lightbox |
| Swipe down | Close lightbox |

### Pinch Gestures

| Gesture | Action |
|---------|--------|
| Pinch out | Zoom in |
| Pinch in | Zoom out |
| Two-finger drag | Pan image (when zoomed) |

### Tap Gestures

| Gesture | Action |
|---------|--------|
| Single tap | Show/hide controls |
| Double tap | Zoom in/out at tap location |
| Long press | Open context menu (disabled by default) |

## Mouse Controls

### Click Actions

- **Arrow buttons** - Navigate previous/next
- **Zoom buttons** - Zoom in/out
- **Close button** - Close lightbox
- **Background click** - Close lightbox (configurable)

### Drag Actions

- **Drag image** - Pan when zoomed
- **Mouse wheel** - Zoom in/out

## Advanced Configuration

### Rapid Navigation Limiting

Prevent users from navigating too quickly:

```js
vistaView({
  elements: '#gallery a',
  rapidLimit: 300, // Minimum 300ms between actions
});
```

### Custom Zoom Behavior

Control zoom levels programmatically:

```js
const gallery = vistaView({
  elements: '#gallery a',
  maxZoomLevel: 3, // Allow 3x zoom
});

// Programmatic zoom
gallery.zoomIn();  // Zoom in by 1.68x
gallery.zoomOut(); // Zoom out by 0.68x
```

### Mobile-Specific Controls

Show navigation arrows on mobile devices:

```js
vistaView({
  elements: '#gallery a',
  arrowOnSmallScreens: true, // Show arrows on screens < 768px
});
```

## Accessibility Features

### Reduced Motion Support

VistaView automatically respects the user's motion preferences:

```css
/* Automatically applied when user prefers reduced motion */
@media (prefers-reduced-motion: reduce) {
  .vvw-root * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
```

### Screen Reader Announcements

VistaView includes ARIA labels and live regions:

- Navigation announcements
- Image count and current position
- Zoom level changes
- Error messages

```html
<!-- Automatically generated -->
<div role="dialog" aria-label="Image gallery">
  <div aria-live="polite" aria-atomic="true">
    Image 1 of 5: Mountain landscape
  </div>
</div>
```

### Focus Management

- Focus trapped within lightbox when open
- Focus restored to trigger element on close
- Keyboard navigation through controls with Tab

## Custom Event Handling

### Register Custom Pointer Listeners

```js
const gallery = vistaView({
  elements: '#gallery a',
});

gallery.registerPointerListener((e) => {
  console.log('Pointer event:', e.type);
  console.log('Coordinates:', e.clientX, e.clientY);
  console.log('Number of pointers:', e.pointers.length);
});
```

### Handling Specific Interactions

```js
vistaView({
  elements: '#gallery a',
  onImageView: (data, vistaView) => {
    if (data.via.next) {
      console.log('User navigated to next image');
    } else if (data.via.prev) {
      console.log('User navigated to previous image');
    }
  },
});
```

## Touch Device Detection

VistaView automatically adapts to touch devices:

- Larger touch targets on mobile
- Swipe gestures enabled automatically
- Momentum scrolling for panning
- Context menu prevention

## Gesture Conflicts

### Preventing Browser Gestures

VistaView prevents default browser behaviors for:
- Pinch zoom on mobile Safari
- Pull-to-refresh on mobile browsers
- Context menu on long press
- Text selection during drag

### Working with Other Libraries

If using other gesture libraries, you may need to coordinate:

```js
// Example: Disable other gesture libraries when VistaView is open
vistaView({
  elements: '#gallery a',
  onOpen: (vistaView) => {
    // Disable other gesture handlers
    document.body.classList.add('vistaview-open');
  },
  onClose: (vistaView) => {
    // Re-enable other gesture handlers
    document.body.classList.remove('vistaview-open');
  },
});
```

## Performance Optimization

### Throttling

VistaView uses internal throttling for performance:

- Zoom operations: 222ms throttle
- Resize events: 150ms debounce
- Scroll events: 16ms throttle (60fps)

### Custom Throttling

```js
// Access internal throttle system (advanced)
import { vistaView, VistaView } from 'vistaview';

const gallery = vistaView({
  elements: '#gallery a',
});

// The throttle system is internal but can be configured
// through animation duration
vistaView({
  elements: '#gallery a',
  animationDurationBase: 250, // Faster interactions
  rapidLimit: 200, // Shorter delay between actions
});
```

## Testing Interactions

### Simulating Keyboard Events

```js
// Dispatch keyboard events for testing
const event = new KeyboardEvent('keydown', {
  key: 'ArrowRight',
  bubbles: true,
});
document.dispatchEvent(event);
```

### Simulating Touch Events

```js
// Create touch event for testing
const touch = new Touch({
  identifier: 1,
  target: element,
  clientX: 100,
  clientY: 100,
});

const touchEvent = new TouchEvent('touchstart', {
  touches: [touch],
  bubbles: true,
});
element.dispatchEvent(touchEvent);
```

## Next Steps

- [Learn about configuration](/concepts/configuration)
- [Explore extensions](/concepts/extensions)
- [Customize with themes](/concepts/styling)
